(self.webpackChunkaxy=self.webpackChunkaxy||[]).push([[814],{814:(t,n,e)=>{"use strict";e.r(n),e.d(n,{MainContentModule:()=>v});var o=e(855),c=e(304),i=e(639),r=e(71),s=e(340),a=e(841);let u=(()=>{class t{constructor(t){this.http=t,this.url=s.N.server,this.company="companies"}getAll(){return this.http.get(this.url+this.company).toPromise()}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(a.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this.http=t,this.url=s.N.server,this.contacts="contacts"}getAll(){return this.http.get(this.url+this.contacts).toPromise()}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(a.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e(665),h=e(583);function g(t,n){if(1&t&&(i.TgZ(0,"option",11),i._uU(1),i.qZA()),2&t){const t=n.$implicit;i.Q6J("value",t.id),i.xp6(1),i.Oqu(t.name)}}function d(t,n){if(1&t){const t=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i.TgZ(8,"button",8),i.NdJ("click",function(){const n=i.CHM(t).$implicit;return i.oxw(2).edit(n)}),i._uU(9,"Edit"),i.qZA(),i.TgZ(10,"button",8),i.NdJ("click",function(){const n=i.CHM(t).index;return i.oxw(2).delete(n)}),i._uU(11,"Delete"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=n.$implicit;i.xp6(2),i.Oqu(t.name),i.xp6(2),i.Oqu(t.country),i.xp6(2),i.Oqu(t.phone)}}function m(t,n){if(1&t){const t=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"div",13),i.TgZ(2,"div",14),i._uU(3),i.qZA(),i.TgZ(4,"div",14),i._UZ(5,"img",15),i.qZA(),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"div",4),i.TgZ(8,"h3"),i._uU(9,"Contacts"),i.qZA(),i.TgZ(10,"button",8),i.NdJ("click",function(){return i.CHM(t),i.oxw().add()}),i._uU(11,"Add"),i.qZA(),i.qZA(),i.TgZ(12,"table",16),i.TgZ(13,"tr"),i.TgZ(14,"th"),i._uU(15,"Name"),i.qZA(),i.TgZ(16,"th"),i._uU(17,"Country"),i.qZA(),i.TgZ(18,"th"),i._uU(19,"Phone"),i.qZA(),i.TgZ(20,"th"),i._uU(21,"Options"),i.qZA(),i.qZA(),i.YNc(22,d,12,3,"tr",17),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(3),i.AsE(" Name: ",t.company.name," Description: ",t.company.description," "),i.xp6(2),i.Q6J("src",t.company.logo,i.LSH),i.xp6(17),i.Q6J("ngForOf",t.contacs)}}function Z(t,n){if(1&t){const t=i.EpF();i.TgZ(0,"div",18),i.TgZ(1,"form",19),i.TgZ(2,"h2"),i._uU(3),i.qZA(),i.TgZ(4,"div",20),i.TgZ(5,"div",21),i._UZ(6,"input",22),i._UZ(7,"input",23),i._UZ(8,"input",24),i.TgZ(9,"button",8),i.NdJ("click",function(){return i.CHM(t),i.oxw().update()}),i._uU(10,"GO"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("formGroup",t.contactForm),i.xp6(2),i.Oqu(t.title)}}const f=[{path:"",component:(()=>{class t{constructor(t,n,e,o){this.userService=t,this.companyService=n,this.contactsService=e,this.formBuilder=o,this.$user=this.userService.getUser(),this.companies=[],this.contacs=[],this.closeModal="",this.create=!1,this.title=""}ngOnInit(){var t=this;return(0,c.Z)(function*(){t.companies=yield t.companyService.getAll(),t.contacs=yield t.contactsService.getAll()})()}getCompany(t){this.company=this.companies.find(n=>n.id===t.value)}initFormContact(){this.contactForm=this.formBuilder.group({name:[""],country:[""],phone:[""]})}initFormContactFull(t){this.contactForm=this.formBuilder.group({name:[t.name],country:[t.country],phone:[t.phone]})}add(){this.create=!0,this.title="Add Contact",this.initFormContact()}edit(t){this.create=!0,this.id=t.id,console.log(this.id),this.title="Edit Contact",this.initFormContactFull(t)}update(){if(this.id){const{name:t,country:n,phone:e}=this.contactForm.value;console.log(this.contactForm.value);let o=this.contacs.find(t=>t.id===this.id);console.log(this.contacs),o.name=t,o.country=n,o.phone=e,this.id=null,this.create=!1}else{const{name:t,country:n,phone:e}=this.contactForm.value;this.contacs.push({name:t,country:n,phone:e}),this.create=!1}}delete(t){this.contacs.splice(t,1)}logout(){this.userService.logOut()}get name(){return this.contactForm.get("name")}get country(){return this.contactForm.get("country")}get phone(){return this.contactForm.get("phone")}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(r.K),i.Y36(u),i.Y36(l),i.Y36(p.qu))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-main-content"]],decls:15,vars:7,consts:[[1,"navbar","navbar-light","bg-light"],[1,"container-fluid"],["href","/main",1,"navbar-brand"],[1,"m-4"],[1,"d-flex","justify-content-between"],[3,"ngModel","ngModelChange","change"],["value","1","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["class","",4,"ngIf"],["class","mt-3",4,"ngIf"],[3,"value"],[1,""],[1,"d-flex"],[1,"col-6"],["alt","","height","150",3,"src"],[1,"w-100"],[4,"ngFor","ngForOf"],[1,"mt-3"],[3,"formGroup"],[1,"row"],[1,"col-sm-6"],["matInput","","type","text","placeholder","Name","formControlName","name"],["matInput","","type","text","placeholder","Country","formControlName","country"],["matInput","","type","text","placeholder","Phone","formControlName","phone"]],template:function(t,n){if(1&t&&(i.TgZ(0,"nav",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i._uU(3),i.ALo(4,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i.TgZ(7,"select",5),i.NdJ("ngModelChange",function(t){return n.selectedCompany=t})("change",function(t){return n.getCompany(t.target)}),i.TgZ(8,"option",6),i._uU(9,"Selec Company"),i.qZA(),i.YNc(10,g,2,2,"option",7),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return n.logout()}),i._uU(12,"LogOut"),i.qZA(),i.qZA(),i.YNc(13,m,23,4,"div",9),i.YNc(14,Z,11,2,"div",10),i.qZA()),2&t){let t;i.xp6(3),i.hij(" Wellcome ",null==(t=i.lcZ(4,5,n.$user))?null:t.firstName," "),i.xp6(4),i.Q6J("ngModel",n.selectedCompany),i.xp6(3),i.Q6J("ngForOf",n.companies),i.xp6(3),i.Q6J("ngIf",n.company),i.xp6(1),i.Q6J("ngIf",n.create)}},directives:[p.EJ,p.JJ,p.On,p.YN,p.Kr,h.sg,h.O5,p._Y,p.JL,p.sg,p.Fj,p.u],pipes:[h.Ov],styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(f)],o.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[h.ez,p.u5,p.UX,A]]}),t})()}}]);